# 摘要
零知识证明作为隐私保护技术的重要手段,随着区块链技术的发展,逐渐应用于车联网、比特币等各个领域。个人综合信用评分作为促进社会治理的一项措施，与个人隐私息息相关。虽然目前有各种应用场景的信用评分计算系统，但这些系统几乎无视用户隐私保护，导致用户信息泄露或滥用。零知识证明与个人信用评分计算相结合，现阶段已有多名研究人员进行了研究。但是，现有方案中所有数据都是用户直接提供的，没有考虑用户提供虚假数据情况下的数据真实性。在本文中，我们利用零知识证明设计了一种新颖的个人信用评分计算隐私保护方案，同时考虑了多维用户数据的真实性验证。此外，我们的方案还提出了基于区块链的个人信用评分通用验证平台的概念。对于任何需要查询和验证用户信用评分的合格机构，该平台具有更实质的适用性和多功能性。在论文的最后，我们对整体方案进行了安全分析和性能评估。  
索引词——区块链、隐私计算、隐私保护、零知识证明、信用评分计算  
# 一、引言
隐私计算[1]是指在保证数据提供者无需泄露敏感数据的前提下，可以对数据进行分析、计算和验证的信息技术。 在人工智能、金融科技、医疗保障等数据共享场景中发挥着至关重要的作用。 零知识证明[2]作为隐私计算的基本手段，允许一个人在不泄露证明的具体信息的情况下向他人证明一个命题的正确性。  
&emsp;&emsp;零知识证明在金融、医疗、车联网等领域具有很好的应用前景，因为它具有可以有效验证且不泄露有用知识的优良特性。使用零知识证明，Zcash [3] 实现了完全匿名的区块链交易，可以隐藏交易双方的地址和交易信息。相对于比特币在区块链上存储完整的交易细节，Zcash 的链上交易是通过零知识证明应用的，不受其交易链分析的风险。因此，Zcash 对用户来说具有更高的安全性。在移动医疗设备方面，Antonio 等人。为移动设备和智能手机设计了一种零知识身份认证方案[4]，以解决医疗设备通过蓝牙连接到手机时可能出现的数据盗窃和非法数据注入问题。针对交通网络中的数据完整性和数据隐私问题，李万新等。设计了一种交通管理方案 [5]，将来自联网车辆的数据集成到基于零知识证明的实时交通管理系统中。作者进一步开发了该方案的系统原型。  
&emsp;&emsp;信用体系通常与银行和金融机构联系在一起，在发达国家的社会治理中起着决定性的作用。具体而言，信用评分计算（CSC）是指评分机构使用个人信用数据，如账户数量、账户余额、信用卡使用情况和信用记录等，通过风险模型计算信用评分[ 6]基于与信用数据对应的权重。因此，银行、金融机构和其他实体可以量化个人的信用价值或信用风险，然后使用这些量化数据来促进他们的决策[7]。风险模型的研究已经比较成熟，例如基于逻辑回归的信用评分模型[8]和最小二乘支持向量机集成模型[9]。这些模型以个人数据为输入，涉及客户的大量隐私，而这些方案中很少考虑隐私保护[10]-[12]。许多现有的论文 [13]、[14] 在计算信用评分时使用交易对手计算来保护用户的隐私。但是，由于无法验证信用数据，它们具有明显的局限性。因此，Chao Lin 等人。提出了一种将零知识证明与 CSC 相结合的隐私保护信用评分计算 (PCSC) 方案 [15]。 [15]的论文依赖于用户自己收集他的个人数据，并且他与评分机构和受信任的第三方进行了三次非交互式零知识证明的交互。然后，可以基于来自这些交互的信息来计算和证明用户信用评分。这个过程实现了对用户个人信息的隐私保护，前提是用户是可信的，并且他们不会向机构提供虚假数据。但在实际的信用评分评估中，用户提供的数据存在真实性风险。它应该是直接从多个机构获得的，这些机构在业务过程中积累了用户的数据。此外，[15] 的方案不是通用方案，因为对用户信用评分的评估仅限于评分机构本身。
&emsp;&emsp;针对当前信用评分评估方案存在隐私保护的不足，我们结合零知识证明、区块链和智能合约，提出了一种全新的完整隐私保护信用评分计算方案（CPPCSC）。与[15]的方案相比，CSC的数据来自多个数据机构，我们的方案只需要一个零知识证明。本文的贡献总结如下：  
（1）多维数据共享验证：我们不再假设用户是可信的。 他们的信用数据也不再由他们自己整合。 取而代之的是，数据由用户单位、银行、政府部门等数据机构直接单向加密并存储在区块链上。 另一方面，用户以加密形式发布自己的信用数据，根据自己的多维信用数据计算出的信用分数，以及与信用数据和分数相关的零知识证明。 用户提供的加密信用数据无需解密即可证明与区块链上的信用数据是否一致。 此外，可以通过证明其值实际上是由信用数据计算的来验证信用评分。  
(2)个人信用评分通用验证平台：我们在区块链上编写智能合约来验证用户的信用评分。 任何需要验证信用评分的机构都可能触发这些公共智能合约的调用。 因此，我们的方案具有更强的通用性。  
&emsp;&emsp;本文的其余部分组织如下：在第二节中，我们提供了相关的背景和预备知识。 然后，第三节详细介绍了整个系统的设计和实现过程。 在第四节中，我们介绍了仿真结果以及对该方案的性能和安全性的分析。 最后，我们在第五节结束本文。  
# 二、 背景和预备知识  
## A.区块链和智能合约
&emsp;&emsp;区块链是一种分布式账本技术，由多个节点共同维护，利用密码学保证传输和访问的安全，利用区块链结构存储数据。 它具有许多特性，例如一致的存储、防篡改和不可否认的特性。 区块链结构由从后到前按时间顺序链接在一起的块组成，其中每个块包含一个周期内的一组交易、一个时间戳和一个指向前一个块的哈希值。 此外，区块链技术利用点对点网络来实现平等互信的节点之间的去中心化。 此外，它利用共识机制确保所有节点在去中心化组织中达成共识。 基于区块链的存储结构、数据的多副本和共识机制，区块链具有数据不可篡改的重要特征。  
&emsp;&emsp;作为运行在区块链上的分布式程序，智能合约自动执行一系列预定义的规则。 由于区块链上数据的公开透明，合约处理数据的代码也是公开透明的。 当智能合约部署在区块链上时，任何人都可以查看代码。 得益于区块链的不可篡改特性，智能合约的代码及其生成的输出也是不可篡改的。 因此，运行智能合约的节点不必专注于其他节点对代码和数据的恶意修改。 区块链网络中的数千个节点通过共识机制保持数据的一致性。 少于 50% 的部分节点故障不会导致智能合约终止。 这确保了智能合约的可靠性。  
## B.零知识证明Zero-knowledge proof 
&emsp;&emsp;零知识证明意味着一个人可以向另一个人证明一个陈述的正确性，而无需透露该陈述的有用知识。 零知识证明中存在三个角色：可信第三方（TTP）、证明者和验证者。 他们各自的职责简述如下:    
&emsp;&emsp;可信第三方：TTP为一个问题构造了一个秘密函数f(x)，例如这个问题就是本文中的信用评分计算。 证明者将证明他知道 f(x) 的答案，而不会透露答案本身。 此外，TTP 会在我们的方案中提供一个智能合约，由 Verifier 调用来验证 Prover 的证明是否有效。  
&emsp;&emsp;Prover：Prover 需要注册到 TTP。 他可以在本地生成一个证明，用于他学习 f(x) 的答案，而该证明包含关于答案的零知识。  
&emsp;&emsp;Verifier：验证者调用 TTP 创建的智能合约来验证 Prover 提供的证明。 在验证过程中，验证者可能不会获得任何关于证明者答案的有用知识，因为它是一个零知识证明。    
&emsp;&emsp;综上所述，零知识证明具有以下特点[16]： 1）完整性：验证者可能会收到 Prover 生成的有效证明； 2) 知识：只有拥有 f(x) 的秘密答案的 Prover 才能生成证明，并且只有 Verifier 才能成功验证； 3）零知识：验证者无法从证明中获得任何有用的答案知识。  
## C. zk-SNARK
&emsp;&emsp;零知识简洁知识论证（zk-SNARK）[17]是一种基于算术电路可满足性的零知识证明协议。 在 zk-SNARK 协议中，证明者可以简洁地说服任何验证者相信给定断言的有效性，并且该协议实现了无需证明者和验证者交互的零知识计算。 zk-SNARK 验证时间短，证明量小，特别适用于区块链。 因此，区块链项目 Zcash 发行了加密货币 ZEC，它利用 zk-SNARK 实现了区块链交易的匿名交易模式 [3]。 [18] 的作者针对原始图像更改（即裁剪、旋转或压缩等）后传统签名失效的问题。 他们提出了一种基于 zk-SNARK 的新图像认证方案 [18]，支持图像多次更改后的签名认证。  
&emsp;&emsp;在本文中，我们首次将 zk-SNARK 和 CSC 结合起来，并通过智能合约验证计算的正确性。 zk-SNARK的工作过程和性质解释如下：